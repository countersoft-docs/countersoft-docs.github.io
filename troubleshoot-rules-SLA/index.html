---
layout: default
title: GEMINAI - Little Language Machine Learning 
---
<p><a href="https://docs.countersoft.com/ai-integration/"><img src="geminai.png" alt="Gemini AI logo" width="120" height="140"/></a></p>
<hr>
<h1>Troubleshooting Rules, Actions & SLA</h1> 

<h3>Setting values and sending emails based on Rules</h3>
<p>If you're not sure about this functionality, or you're unsure but have not read the docs, please read the documentation on Rules, Actions and SLA <a href="https://docs.countersoft.com/rules-actions-sla/">here</a></p>
<p>You can also watch videos of <a href="https://www.countersoft.com/videos/?video=22">Rules and Actions</a> or <a href="https://www.countersoft.com/videos/?video=23">SLA</a> being configured</p>
<br/>

<h3>Setting values based on the passage of time</h3>
<p>Rules and Actions are event driven. This means that you cannot create a simple rule that says test these conditions and after X amount of time do Y. Rules only fire when a record is created or updated.</p>
<p>A Rule like - <i>If Status is still unassigned after 2 days notify the PM</i> cannot be made with simple Rules and Actions. After all, what 2 days? Do they include the weekend? Should holidays be counted?</p>
<p>To have rules that work over time, you must <b>start a clock</b>, and to start a clock running in Gemini you use <b>SLA</b> functionality. You don't have to have a real-world commercial SLA, just start a clock!</p>
<p>When an SLA clock is running, you can use a Working Day Calendar, you can test how much time has passed and/or how much time is left, and on that basis you can perform all the actions that Rules functionality permits.</p>
<p>You extend the actions you want the SLA to take over time by using Rules (not SLA) and testing SLA Time Passed or SLA Time Left. You can get away with having only two conditions on the SLA itself - conditions to Start and to Stop the clock.</p>
<p><b>Note:</b> The condition "Issue = Created" can be used to start an SLA as soon as an item is created. The condition "Issue = Updated" can be used to test when a change to an item has been made. The term 'Issue' is a hangover from the early days of Gemini and is synonymous with the word 'transaction'. In the context of Rules, Actions and SLA, 'Issue' relates to any Process Type - Bug, Ticket, Change Request, Test etc.</p> 
<p><b>Note:</b> You can only send ONE email per record using Rules, Actions and SLA. If this were not the case then it would be possible for Gemini to spam email recipients, and that cannot be allowed.</p>

<h3>We chose the SLA based on certain conditions, but what if those conditions change?</h3>
<p>There is a Rule Action to switch an item from one SLA to another. If conditions change, but you still want the item in an SLA, switch the SLA. If you intend to switch SLAs you should configure a default SLA that you switch <i>from</i>. SLAs that you switch <i>to</i> should not have any Start conditions. Items should only find their way onto such SLAs as a result of being switched. When you switch to another SLA you have the option to reset the clock as if no time had passed, or to keep it running.</p>

<h3>My rules aren't doing what they're supposed to do</h3>
<p>If you think your Rules aren't firing and don't know why, go to the System Log and switch on diagnostics. You must be in the Gemini Administrator role to get to the System Log. With diagnostics enabled, set the conditions for your rule to fire. Immediately afterwards, look in the System log and you will see a verbose trail of Rules firing, conditions being tested, and results. You are almost certain to find the reason your rule isn't working in the diagnostic log. <i>Please don't forget to disable diagnostics when you are done or your log will grow very large very quickly</i>.</p>

<h3>A known Rules & Actions gotcha</h3>
<p>Sometimes Rules appear not to work when what is actually happening is that the rules are contradictory and actions are cancelling one another out. A classic case of this is if you have the Auto-Open Closed Items App enabled and you have a rule to close items based on set conditions. Here's how that can go wrong: you trigger your condition and the record is closed; then the Auto-Open App runs; it detects that the record has changed so it promptly reopens it! Looking at the UI, it happens so fast it looks like nothing at all has happened, but in fact 2 things happened that contradict each other. If your Rules don't appear to work, please check that there are no contradictory Rules or Apps at work.</p>

<h3>I need a complex multi-stage rule</h3>
<p>Rules execute their actions sequentially. you can sort Rules with drag-drop handles, which you will see on the left of the Rule name. You can therefore have a Rule that sets Field A = X, followed by a rule that tests if Field A = X and then does something on the basis of that condition.</p>

<h3>How do I notify generic user roles - like the ticket owner or resource(s)?</h3>
<p>Rules and Actions (and SLA) use tokens like {resource}, {reporter} etc. See the list in the documentation referenced at the top of the page.</p>
